<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domain Check Result</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.0.3/dist/tailwind.min.css" rel="stylesheet">
    <link href="/static/styles.css" rel="stylesheet">
    <link href="/static/results.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/815a144f2f.js" crossorigin="anonymous"></script>
    <link rel="apple-touch-icon" sizes="180x180" href="/static/favicon_package_v0.16/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon_package_v0.16/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon_package_v0.16/favicon-16x16.png">
    <link rel="manifest" href="/static/favicon_package_v0.16/site.webmanifest">
    <link rel="mask-icon" href="/static/favicon_package_v0.16/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/static/favicon_package_v0.16/favicon.ico">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="msapplication-config" content="/static/favicon_package_v0.16/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
</head>

<body>
    <nav>
        <div class="container">
            <img src="/static/logo.png" alt="IDN Homograph Attacks Logo" class="logo">

            <div class="nav-links">
                <a href="/" class="p-2">Home</a>
                <a href="/howitworks" class="p-2">How it Works</a>
                <a href="/about" class="p-2">About Us</a>
            </div>
        </div>
    </nav>
   
    
    <div class="flex-container">
        <div class="body-container">
            <h1>Check Domain Results</h1>
            <p>Domain: {{ domain }}</p>
            <p>Validity: {{ validity }}</p>
            <p>Additional Details:</p>
            <ul>
                <li>Character Count: {{ details.domain_char_count }}</li>
                <li>Digit Count: {{ details.domain_digit_count }}</li>
                <li>Repeated Characters: {{ details.repeated_chars }}</li>
                <li>Non-ASCII Characters: {{ details.non_ascii_char_count }}</li>
                <li>Top-Level Domain: {{ details.domain_tld }}</li>
            </ul>
        </div>
        
        <div class="chart" data-percent="{{ accuracy | round(2) }}">
            <span class="chart-percentage"></span>
        </div>
    </div>

    <div class="credits">
        <div class="credit-item">
            <a href="https://www.linkedin.com/in/rayanbouhal" target="_blank">
                <p>Rayan Bouhal</p>
                <i class="fa-brands fa-linkedin fa-xl bounce-on-hover"></i>
            </a>
        </div>
        <div class="credit-item">
            <a href="https://www.linkedin.com/in/angelie-nguyen-195746216/" target="_blank">
                <p>Angelie Nguyen</p>
                <i class="fa-brands fa-linkedin fa-xl bounce-on-hover"></i>
            </a>
        </div>
        <div class="credit-item">
            <a href="https://www.linkedin.com/in/andrew-merdes-6a6693279/" target="_blank">
                <p>Andrew Merdes</p>
                <i class="fa-brands fa-linkedin fa-xl bounce-on-hover"></i>
            </a>
        </div>
    </div>

    <script src="/static/easypiechart.js"></script>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var element = document.querySelector('.chart');
            var validity = '{{ validity }}';  // Get the validity from the server-side
            var barColor = validity === 'valid' ? '#3aba58' : '#ff0000';  // Green if valid, red if invalid

            new EasyPieChart(element, {
                scaleColor: false,
                lineWidth: 20,
                trackColor: '#9D91C3',
                barColor: barColor,  // Use the dynamically set color based on validity
                size: 200,
                animate: {
                    duration: 1500,
                    enabled: true
                },
                onStep: function (from, to, percent) {
                    this.el.querySelector('.chart-percentage').innerHTML = Math.round(percent) + '%';
                }
            });
        });
    </script>



</body>

</html>